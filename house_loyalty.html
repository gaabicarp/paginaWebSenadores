<!DOCTYPE html>
<html lang="en">
    <head>
        <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- Latest compiled and minified CSS -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">

        <!-- jQuery library -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

        <!-- Popper JS -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>

        <!-- Latest compiled JavaScript -->
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

        <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    </head>
    
    <body>
        <header>
            <nav class="navbar navbar-expand-sm bg-light navbar-light justify-content-between">
                    <div class="d-inline-flex">
                        <a class="navbar-brand" href="#">
                            <img src="img/logo.jpg" alt="Logo" style="width:40px;">
                        </a>
                        <h1 class="h1">TGIF</h1>
                    </div>
                    <div>
                        <p class="text-right"><i class="material-icons">mail_outline</i><a href="mailto:info@tgif.net">info@tgif.net</a></p>
                    </div>
            </nav>
            <nav class="navbar navbar-expand-sm bg-dark navbar-dark">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a href="index.html" class="nav-link">Home</a></li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbardrop" data-toggle="dropdown">Congress 113</a>
                        <div class="dropdown-menu">
                            <a href="senate-page.html" class="dropdown-item" >Senate</a>
                            <a href="house-page.html" class="dropdown-item" >House</a>
                        </div>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbardrop" data-toggle="dropdown">Attendance</a>
                        <div class="dropdown-menu">
                            <a href="senate-attendance.html" class="dropdown-item" >Senate</a>
                            <a href="house-attendance.html" class="dropdown-item" >House</a>
                        </div>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbardrop" data-toggle="dropdown">Loyalty</a>
                        <div class="dropdown-menu">
                            <a href="senate_loyalty.html" class="dropdown-item" >Senate</a>
                            <a href="house_loyalty.html" class="dropdown-item" >House</a>
                        </div>
                    </li>
                </ul>
            </nav>
        </header>

        <br>
        <!--Table container-->
        <div class="container" id="main">
            <div class="container row">
                <div class="col-md-6">
                    <h3 class="h3-responsive text-center text-nowrap">Party Loyalty</h3>
                    <p class="text-secondary text-indent">Those who consider themselves to be strong partisans, strong Democrats and strong Republicans respectively, tend to be the most faithful in voting for their party's nominee for office and legislation that backs their party's agenda.</p>
                </div>
                <div class="col-md-6">
                    <h3 class="h3-responsive text-center text-nowrap">Senate at a glance</h3>

                    <table id="senate-data" class="table table-bordered table-striped mb-0">
                        <thead>
                            <tr>
                                <th>Party</th>
                                <th>Number of Reps</th>
                                <th>% Voted with Prty</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Republican</td>
                                <td>{{statistics.membRep.length}}</td>
                                <td>%{{statistics.withPrtyRep}}</td>
                            </tr>
                            <tr>
                                <td>Democrats</td>
                                <td>{{statistics.membDem.length}}</td>
                                <td>%{{statistics.withPrtyDem}}</td>
                            </tr>
                            <tr>
                                <td>Independent</td>
                                <td>{{statistics.membInd.length}}</td>
                                <td>%{{statistics.withPrtyInd}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <br>
            <hr style="border:2px;">

            <div class="container row">
                <div class="col-md-6">
                    <h3 class="h3-responsive text-center text-nowrap">Least Engaged (Bottom 10% Attendance)</h3>
                    <table class="table table-bordered table-striped mb-0">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Number Party Votes</th>
                                <th>% Party Votes</th>
                            </tr>
                        </thead>
                            <tbody v-for="most in loyalty.most">
                                <tr><td>{{most.first_name}} {{most.middle_name}} {{most.last_name}}</td><td>{{(most.votes_with_party_pct * most.total_votes / 100).toFixed()}}</td><td>{{most.votes_with_party_pct}}</td></tr>
                            </tbody>
                    </table>
                </div>
                <div class="col-md-6">
                    <h3 class="h3-responsive text-center text-nowrap">Most Engaged (Top 10% Attendance)</h3>
                    <table class="table table-bordered table-striped mb-0">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Number Party Votes</th>
                                <th>% Party Votes</th>
                            </tr>
                        </thead>
                        <tbody v-for="least in loyalty.least">
                            <tr><td>{{least.first_name}} {{least.middle_name}} {{least.last_name}}</td><td>{{(least.votes_with_party_pct * least.total_votes / 100).toFixed()}}</td><td>{{least.votes_with_party_pct}}</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
        <script src="js/main.js"></script>
</body>
</html>